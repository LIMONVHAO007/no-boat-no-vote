<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>No Boat No Vote - Frame Editor</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;600;700&display=swap');

        body { 
            font-family: 'Hind Siliguri', sans-serif; 
            background-color: #f0f2f5; 
            margin: 0; 
            padding: 20px; 
            text-align: center; /* ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶®‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø */
        }

        /* ‡¶π‡ßá‡¶°‡¶ø‡¶Ç ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ - ‡¶è‡¶ï‡¶¶‡¶Æ ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá */
        h1 { 
            color: #c0392b; 
            margin: 10px auto; 
            font-weight: 700; 
            text-transform: uppercase; 
            letter-spacing: 1px;
            text-align: center;
        }
        
        h3 { 
            color: #555; 
            font-size: 14px; 
            background: #fff; 
            padding: 8px 25px; 
            border-radius: 50px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            margin: 0 auto 30px auto; /* ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶ö‡ßá ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™ */
            display: inline-block;
            line-height: 1.6;
        }

        /* ‡¶Æ‡ßá‡¶á‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ - ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
        .main-container { 
            display: inline-flex; /* ‡¶¨‡¶æ flex */
            flex-wrap: wrap; 
            justify-content: center; 
            align-items: flex-start;
            gap: 30px; 
            max-width: 1100px; 
            margin: 0 auto; 
            background: white; 
            padding: 30px; 
            border-radius: 20px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); 
            text-align: left; /* ‡¶≠‡¶ø‡¶§‡¶∞‡ßá‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶¨‡¶æ‡¶Æ‡ßá ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */
        }
        
        /* ‡¶ï‡ßç‡¶Ø‡¶æ‡¶®‡¶≠‡¶æ‡¶∏ ‡¶è‡¶∞‡¶ø‡ßü‡¶æ */
        .canvas-area { 
            position: relative; 
            border: 5px solid #fff; 
            overflow: hidden; 
            background: #dfe6e9; 
            width: 500px; 
            height: 500px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); 
            border-radius: 10px; 
            cursor: move; 
        }
        canvas { width: 100%; height: 100%; display: block; }

        /* ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤‡¶∏ */
        .controls { 
            flex: 1; 
            min-width: 300px; 
            padding: 10px;
        }
        
        .upload-section { margin-bottom: 20px; text-align: center; }
        
        input[type="file"] { 
            padding: 12px; 
            background: #f8f9fa; 
            border: 2px dashed #3498db; 
            border-radius: 10px; 
            width: 100%; 
            box-sizing: border-box; 
            cursor: pointer;
        }

        /* ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ */
        .control-group { 
            margin-bottom: 15px; 
            background: #fff;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #eee;
            transition: 0.3s;
        }
        .control-group:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.05); border-color: #3498db; }

        label { 
            display: flex; 
            justify-content: space-between; 
            margin-bottom: 8px; 
            font-weight: 600; 
            font-size: 14px; 
            color: #34495e; 
        }
        
        input[type="range"] { width: 100%; cursor: pointer; accent-color: #3498db; }

        /* ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶¨‡¶æ‡¶ü‡¶® - ‡¶Æ‡¶æ‡¶ù‡¶ñ‡¶æ‡¶®‡ßá */
        .download-container {
            width: 100%;
            text-align: center;
            margin-top: 20px;
        }

        .download-btn { 
            padding: 15px 50px; 
            background: linear-gradient(135deg, #27ae60, #2ecc71); 
            color: white; 
            border: none; 
            border-radius: 50px; 
            cursor: pointer; 
            font-size: 18px; 
            font-weight: bold; 
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4); 
            transition: 0.3s; 
        }
        .download-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(39, 174, 96, 0.5); }

    </style>
</head>
<body>

    <h1>NO BOAT NO VOTE</h1>
    <h3>{ ‡¶Ø‡ßá‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡ßá ‡¶ó‡¶ø‡ßü‡ßá ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶´‡ßç‡¶∞‡ßá‡¶Æ‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶è‡¶°‡¶ú‡¶æ‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶®‡¶ø‡¶®,‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶á‡¶°‡¶ø‡¶ü ‡¶ï‡¶∞‡ßá ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®,‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶∏‡ßã‡¶∂‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶Æ‡¶ø‡¶°‡¶ø‡ßü‡¶æ‡ßü ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßü, ‡¶è‡¶á ‡¶π‡ßç‡¶Ø‡¶æ‡¶∂‡¶ü‡ßç‡¶Ø‡¶æ‡¶ó‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® #NoBoatNoVote }</h3>

    <div class="main-container">
        <div class="canvas-area">
            <canvas id="canvas" width="1000" height="1000"></canvas>
        </div>

        <div class="controls">
            <div class="upload-section">
                <label style="justify-content: center; color: #e74c3c;">‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶® üëá</label>
                <input type="file" id="upload" accept="image/*">
            </div>

            <div class="control-group">
                <label>‡¶ú‡ßÅ‡¶Æ / ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ <span id="val-scale">1.0</span></label>
                <input type="range" id="scale" min="0.1" max="5" step="0.01" value="1">
            </div>
            <div class="control-group">
                <label>‡¶ò‡ßÅ‡¶∞‡¶æ‡¶®‡ßã <span id="val-rotate">0¬∞</span></label>
                <input type="range" id="rotate" min="0" max="360" value="0">
            </div>
            <div class="control-group">
                <label>‡¶¨‡ßç‡¶∞‡¶æ‡¶á‡¶ü‡¶®‡ßá‡¶∏</label>
                <input type="range" id="brightness" min="0" max="200" value="100">
            </div>
            <div class="control-group">
                <label>‡¶∏‡ßç‡¶Ø‡¶æ‡¶ö‡ßÅ‡¶∞‡ßá‡¶∂‡¶®</label>
                <input type="range" id="saturation" min="0" max="200" value="100">
            </div>
            <div class="control-group">
                <label>‡¶¨‡ßç‡¶≤‡¶æ‡¶∞</label>
                <input type="range" id="blur" min="0" max="15" value="0">
            </div>

            <div class="download-container">
                <button class="download-btn" id="download">‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶á‡¶â‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶ú</button>
            </div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const upload = document.getElementById('upload');
        const downloadBtn = document.getElementById('download');

        const inputs = ['scale', 'rotate', 'brightness', 'saturation', 'blur'];
        const controls = {};
        inputs.forEach(id => controls[id] = document.getElementById(id));

        let userImg = new Image();
        let frameImg = new Image();
        let imgLoaded = false;
        let imgX = 500, imgY = 500; 
        let isDragging = false;
        let startX, startY;

        frameImg.src = 'frame.png'; 

        // ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ü‡¶™‡¶≤‡ßã‡¶°
        upload.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (event) => {
                    userImg.onload = () => {
                        imgLoaded = true;
                        imgX = canvas.width / 2;
                        imgY = canvas.height / 2;
                        // ‡¶Ö‡¶ü‡ßã ‡¶∏‡ßç‡¶ï‡ßá‡¶≤ ‡¶è‡¶°‡¶ú‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü
                        const ratio = Math.min(canvas.width / userImg.width, canvas.height / userImg.height);
                        controls.scale.value = ratio;
                        document.getElementById('val-scale').innerText = ratio.toFixed(2);
                        draw();
                    };
                    userImg.src = event.target.result;
                };
                reader.readAsDataURL(file);
            }
        });

        // ‡¶°‡ßç‡¶∞‡ßç‡¶Ø‡¶æ‡¶ó ‡¶≤‡¶ú‡¶ø‡¶ï
        function getCoords(e) {
            const rect = canvas.getBoundingClientRect();
            const clientX = e.touches ? e.touches[0].clientX : e.clientX;
            const clientY = e.touches ? e.touches[0].clientY : e.clientY;
            const scaleX = canvas.width / rect.width;
            const scaleY = canvas.height / rect.height;
            return { x: (clientX - rect.left) * scaleX, y: (clientY - rect.top) * scaleY };
        }

        const startAction = (e) => {
            if(!imgLoaded) return;
            isDragging = true;
            const pos = getCoords(e);
            startX = pos.x - imgX;
            startY = pos.y - imgY;
        };

        const moveAction = (e) => {
            if (!isDragging) return;
            if(e.type === 'touchmove') e.preventDefault();
            const pos = getCoords(e);
            imgX = pos.x - startX;
            imgY = pos.y - startY;
            draw();
        };

        const stopAction = () => isDragging = false;

        canvas.addEventListener('mousedown', startAction);
        window.addEventListener('mousemove', moveAction);
        window.addEventListener('mouseup', stopAction);
        canvas.addEventListener('touchstart', startAction, {passive: false});
        window.addEventListener('touchmove', moveAction, {passive: false});
        window.addEventListener('touchend', stopAction);

        // ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
        Object.values(controls).forEach(input => {
            input.addEventListener('input', () => {
                const label = document.getElementById('val-'+input.id);
                if(label) label.innerText = input.value + (input.id === 'rotate' ? '¬∞' : '');
                draw();
            });
        });

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (imgLoaded) {
                ctx.save();
                ctx.translate(imgX, imgY);
                ctx.filter = `brightness(${controls.brightness.value}%) saturate(${controls.saturation.value}%) blur(${controls.blur.value}px)`;
                ctx.rotate((controls.rotate.value * Math.PI) / 180);
                const s = controls.scale.value;
                ctx.drawImage(userImg, -userImg.width * s / 2, -userImg.height * s / 2, userImg.width * s, userImg.height * s);
                ctx.restore();
            }
            ctx.drawImage(frameImg, 0, 0, canvas.width, canvas.height);
        }

        downloadBtn.addEventListener('click', () => {
            if(!imgLoaded) return alert("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®!");
            const link = document.createElement('a');
            link.download = 'No-Boat-No-Vote.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        });

        frameImg.onload = draw;
    </script>
</body>
</html>